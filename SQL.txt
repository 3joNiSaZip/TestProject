 -- 관리자 계정 --

CREATE USER jsp IDENTIFIED BY jsp;

GRANT CONNECT, RESOURCE, CREATE VIEW, CREATE SEQUENCE TO jsp;

 -- jsp 계정 --

CREATE TABLE MEMBER(
  USERID VARCHAR2(30) PRIMARY KEY
 ,PASSWORD VARCHAR2(100) NOT NULL
 ,USERNAME  VARCHAR2(30) NOT NULL
 ,GENDER CHAR(1) CHECK (GENDER IN ('M','F'))
 ,AGE NUMBER
 ,EMAIL VARCHAR2(30)
 ,PHONE CHAR(13)  NOT NULL
 ,ADDRESS VARCHAR2(500)
 ,HOBBY VARCHAR2(100)
 ,ENROLLDATE DATE DEFAULT SYSDATE
);


--INSERT INTO MEMBER VALUES
--('user01', 'pass01', '홍길동', 'M', 10, 'test@test.com', '01011112222', '서울시 강남구', '게임, 음악, 영화감상', DEFAULT);

--COMMIT;

CREATE TABLE NOTICE (
    NNO NUMBER PRIMARY KEY,
    NTITLE VARCHAR2(100) NOT NULL,
    NCONTENT VARCHAR2(4000) NOT NULL,
    NWRITER VARCHAR2(30) NOT NULL,
    NCOUNT NUMBER DEFAULT 0,
    NDATE DATE DEFAULT SYSDATE,
    FOREIGN KEY (NWRITER) REFERENCES MEMBER(USERID)
);

CREATE SEQUENCE SEQ_NNO;

--INSERT INTO NOTICE VALUES(
--SEQ_NNO.NEXTVAL, '[공지]서버 오픈', '서버가 오픈하였습니다. 많은 이용 바랍니다.', 'user01', DEFAULT, DEFAULT
--);

--COMMIT;

-- 공지사항 전체 조회
SELECT * FROM NOTICE
ORDER BY NDATE;

-- 공지사항 한개 조회
SELECT * FROM NOTICE
WHERE NNO = '1';
